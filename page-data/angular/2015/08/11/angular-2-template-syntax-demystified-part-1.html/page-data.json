{"componentChunkName":"component---src-templates-blog-post-js","path":"/angular/2015/08/11/angular-2-template-syntax-demystified-part-1.html","webpackCompilationHash":"0c5d630095500f933ccd","result":{"data":{"site":{"siteMetadata":{"title":"Articles by thoughtram","authors":[{"id":"pascal_precht","name":"Pascal Precht","twitter":"PascalPrecht","img":"https://avatars2.githubusercontent.com/u/445106?s=460&v=4"},{"id":"christoph_burgdorf","name":"Christoph Burgdorf","twitter":"cburgdorf","img":"https://avatars0.githubusercontent.com/u/521109?s=460&v=4"},{"id":"dominic_elm","name":"Dominic Elm","twitter":"d3lm","img":"https://avatars0.githubusercontent.com/u/12571019?s=400&v=4"},{"id":"thomas_burleson","name":"Thomas Burleson","twitter":"thomasburleson","img":"https://avatars3.githubusercontent.com/u/210413?s=400&v=4"},{"id":"elvira_eulitz","name":"Elvira Eulitz","twitter":"ElviraEulitz","img":"https://avatars3.githubusercontent.com/u/29247040?s=400&v=4"},{"id":"maxim_koretskyi","name":"Maxim Koretskyi","twitter":"maxim_koretskyi","img":"https://avatars3.githubusercontent.com/u/6124091?s=400&v=4"}]}},"markdownRemark":{"id":"cf3de90d-1ffd-581c-ba6b-a01ebff9a2d0","excerpt":"I think we’ve been all through this. We see Angular template code the very first time and all of a sudden we have these weird brackets and parentheses spread…","html":"<p>I think we’ve been all through this. We see Angular template code the very first time and all of a sudden we have these weird brackets and parentheses spread all over our HTML. Around a year ago I’ve written an article about how to <a href=\"https://pascalprecht.github.io/2014/10/25/integrating-web-components-with-angularjs/\">integrate Web Components with AngularJS</a>, which explains how we can use, or not use, Web Components in AngularJS applications today. If you haven’t read it yet, I highly recommend you doing so. It’s old but the content is still true.</p>\n<p>It also touches on the new template syntax in Angular and how it tends to solve the existing issues. However, it still seems a mystery for a lot of people and that’s why we’re going to explore the Angular’s template syntax in this article. <strong>Please note</strong> that this is the first part of “Angular Template Syntax Demystified”. There’s going to be another article soon.</p>\n<h2>What it looks like</h2>\n<p>Just to make sure that everyone knows what we are talking about when mentioning “weird” brackets and parentheses in our HTML, we’re going to make a quick recap on what this template syntax looks like.</p>\n<p>If you’ve read the <a href=\"https://angular.io/docs/js/latest/guide/\">step-by-step guide</a> you’ve probably seen the following syntaxes:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>My name: {{ myName}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ul</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">*ngFor</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>let name of names<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    ...\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ul</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">#myname</span> <span class=\"token attr-name\">(keyup)</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>myControllerMethod()<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>And that’s not all, in fact we could add some more:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>todo</span> <span class=\"token attr-name\">[todo]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>todo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>todo</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">[(ngModel)]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>foo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>What we see here is <strong>Event Binding</strong>, <strong>Property Binding</strong>, <strong>Local Variables</strong> and <strong>Template Directives</strong>. In this article we’re going to focus on property, event and two-way binding. But before we explore all of these different syntaxes, let’s answer the first question that comes to our mind when seeing this code: </p>\n<p><strong>Is that valid HTML?</strong></p>\n<p>The answer is <strong>yes</strong>. Here’s an excerpt of the <a href=\"http://www.w3.org/TR/html-markup/syntax.html\">HTML Syntax Spec</a>:</p>\n<blockquote>\n  Attribute names must consist of one or more characters other than the space characters, U+0000 NULL, \"\"\", \"'\", \">\", \"/\", \"=\", the control characters, and any characters that are not defined by Unicode.\n</blockquote>\n<p>Which basically means, any other characters than the ones listed can be used in HTML attribute names. Let’s start off by taking a look at the most important syntax for property binding.</p>\n<h2>Property Binding</h2>\n<p>Property binding is the syntax where we use brackets to bind values to an element’s property. But what does that mean? Why do we want to bind to an element’s property? Well, in order to understand why we want to do that, we have to go back to the basics and understand the APIs of a DOM element.</p>\n<p>The APIs of a DOM element are:</p>\n<ul>\n<li><strong>Attributes</strong> - Attributes are the things we use in HTML to provide elements with data. In fact, attributes are the only way in plain HTML to put values into an element. However, the type of an attribute value in HTML is always <code class=\"language-text\">String</code>, which is not always what we want especially when building applications with frameworks like Angular.</li>\n<li><strong>Properties</strong> - Properties are simply the properties of a DOM object. E.g. if we query a DOM element with <code class=\"language-text\">document.querySelector()</code>, we get a DOM object back which simply has its own properties and methods. Those properties are no special in any way, they behave like any other object properties in JavaScript. That also means we can assign any kind of value to a property, not just strings.</li>\n<li><strong>Methods</strong> - As already mentioned, methods are just the functions on a DOM object that we can call and execute in JavaScript. <code class=\"language-text\">setAttribute()</code> for example is such a method.</li>\n<li><strong>Events</strong> - Of course, last but not least, we have events. The bread and butter when it comes to notifying subscribers that something happened. Like <code class=\"language-text\">click</code>, <code class=\"language-text\">focus</code> or <code class=\"language-text\">input</code>. DOM elements can also fire their own custom events.</li>\n</ul>\n<p>The most interesting part here, is how attributes and properties behave on a DOM object. Especially when we realize, that they behave differently across elements.</p>\n<p>Let’s just take this simple <code class=\"language-text\">input</code> example here:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>thoughtram<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>We use the <code class=\"language-text\">value</code> attribute to set the <strong>initial</strong> value of the input element. Let’s see what happens when we access the DOM object and it’s <code class=\"language-text\">value</code> property:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> input <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ninput<span class=\"token punctuation\">.</span>value <span class=\"token comment\">// 'thoughtram'</span></code></pre></div>\n<p>Alright, we access the <code class=\"language-text\">value</code> property and as expected, it returns the string <code class=\"language-text\">thoughtram</code>. But what happens when we change that value and read from its attribute?</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">input<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">'Angular Master Class'</span><span class=\"token punctuation\">;</span>\ninput<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 'thoughtram'</span></code></pre></div>\n<p>As we can see, the property value is not reflected back to the attribute. There are very few elements that actually reflect their property value back to its attribute. For example the <code class=\"language-text\">src</code> property of an <code class=\"language-text\">img</code> element. Changing its property will also change its attribute. In addition to that, a property can really get any value, whereas an attribute is always a string.</p>\n<p>So how could we pass objects to directives in AngularJS? Well, as most of us know, there’s this directive definition object (DDO), which allows us to specify how directives’ scope properties (or controller properties) are bound to the outside world. The following code for example, allows us to pass an expression to a directive via attributes, that actually results in an object once evaluated.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">angular<span class=\"token punctuation\">.</span><span class=\"token function\">module</span><span class=\"token punctuation\">(</span><span class=\"token string\">'app'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">directive</span><span class=\"token punctuation\">(</span><span class=\"token string\">'widget'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    scope<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    bindToController<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      obj<span class=\"token punctuation\">:</span> <span class=\"token string\">'='</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">controller</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    controllerAs<span class=\"token punctuation\">:</span> <span class=\"token string\">'ctrl'</span><span class=\"token punctuation\">,</span>\n    template<span class=\"token punctuation\">:</span> <span class=\"token string\">'Value: ctrl.obj.foo'</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>If <code class=\"language-text\">bindToController</code> is new to you, you might want to read <a href=\"/angularjs/2015/01/02/exploring-angular-1.3-bindToController.html\">this article</a>.</p>\n<p>From the outside world, we can then pass an object to our <code class=\"language-text\">widget</code> directive simply with an expression. Let’s say we have a controller like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">angular<span class=\"token punctuation\">.</span><span class=\"token function\">module</span><span class=\"token punctuation\">(</span><span class=\"token string\">'app'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">controller</span><span class=\"token punctuation\">(</span><span class=\"token string\">'AppController'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>objOnCtrl <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    foo<span class=\"token punctuation\">:</span> <span class=\"token string\">'Hello World!'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>And a template like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>widget</span> <span class=\"token attr-name\">ng-controller</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>AppController as ctrl<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">obj</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>ctrl.objOnCtrl<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Angular takes the expression passed to the attribute and parses and evaluates it against the corresponding scope, which allows us to pass other values than strings to directives.</p>\n<p>Why can’t we just continue like that in Angular? There are a couple of reasons:</p>\n<ul>\n<li><strong>Predictability</strong> - Looking at our template, we can’t tell what happens to the value of the attribute inside our directive, without knowing the internals of it. We need a way to decide from the outside world how values are bound.</li>\n<li><strong>Compatibility</strong> - This whole mechanism only works with Angular directives. As soon as we use custom elements that aren’t directives but vanilla Web Components, <code class=\"language-text\">ctrl.objOnCtrl</code> would just be that string, unless our custom element would come with a similar parsing and evaluating strategy that Angular directives use. Angular should work with any element, no matter if it’s a custom element, a Web Component built with Polymer, or a directive.</li>\n</ul>\n<p>That’s why since version 2.x, Angular always binds to properties rather than attributes (as AngularJS does). Every DOM element has properties, regardless of being a native element or a Web Component. In order to tell Angular that we want to bind to a property, we use the brackets syntax. If we’d build our <code class=\"language-text\">widget</code> directive in Angular, we would need to bind to it’s <code class=\"language-text\">obj</code> property to assign an object value:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>widget</span> <span class=\"token attr-name\">[obj]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>objOnComponent<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Another feature that property binding brings to the table is <strong>escaping</strong>. Just think about the <code class=\"language-text\">img</code> tag and its <code class=\"language-text\">src</code> attribute. What happens when the browser ecounters an <code class=\"language-text\">img</code> tag with a source when parsing the HTML? Right, it tries to request the source of that image. If we’d have HTML like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{{someExpression}}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>It would result in a <code class=\"language-text\">404</code> error, because the source isn’t a valid URL. That’s why AngularJS has this <code class=\"language-text\">ng-src</code> directive. It takes an expression, evaluates it and once evaluated, it adds the actual <code class=\"language-text\">src</code> attribute to the image element, which results in a correct request. Binding to properties escapes automatically, because value will also only be assigned once their expressions are evaluated.</p>\n<p>We can still use normal attributes without brackets though. Just keep in mind that normal attributes behave like normal attributes.</p>\n<p><strong>What about interpolations?</strong></p>\n<p>Good question! Interpolation in Angular has always been one of the biggest features of the framework. If there’s only property binding, how does something like the following work then?</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Hello {{name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>It turns out, that interpolation syntax is just a shorthand syntax for property binding as well. The code above could be translated to something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span> <span class=\"token attr-name\">[textContent]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>interpolate(['Hello'], [name])<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><strong>Canonical syntax</strong></p>\n<p>Okay cool, now we know what property binding is and why we want to use it, but there’s still a problem we haven’t talked about yet. What if we generate our templates with an HTML preprocessor that doesn’t like the brackets syntax? Guess what, the brackets syntax itself is really just a shorthand for us developers so we can save some key strokes. All property bindings inside a template can be written as:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ANY</span> <span class=\"token attr-name\">bind-{PROPERTY_NAME}</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{EXPRESSION}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ANY</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Which makes it an alpha numeric version that all preprocessors should be able to deal with.</p>\n<h2>Event Binding</h2>\n<p>Binding to properties through HTML is already super powerful. But sometimes we need to be able to react to certain things that happen during runtime of our application. This is what DOM events are for and they are part of our browser platforms since years. Just think of <code class=\"language-text\">click</code>, <code class=\"language-text\">input</code> and <code class=\"language-text\">focus</code> events. However, nowadays it’s also very common for elements to fire their own <strong>custom events</strong>. A Web Component <code class=\"language-text\">&lt;date-picker&gt;</code> for example, could fire a <code class=\"language-text\">dateChanged</code> event.</p>\n<p>In AngularJS, we have a lot of directives that help us out notifying the framework when an event is fired. That’s why we have things like <code class=\"language-text\">ng-click</code>, <code class=\"language-text\">ng-focus</code> etc. They simply notify Angular that an event has been fired and application state could have changed. Without these directives, Angular’s two-way data binding wouldn’t work out-of-the-box. Unfortunately, that doesn’t really scale. How can our <code class=\"language-text\">&lt;date-picker&gt;</code> Web Component notify Angular that a change has happened? Correct, we would need to create a directive for each and every event and it’s not uncommon for elements to fire more than just one event.</p>\n<p>That’s why since version 2.x, in Angular we have the parenthesis syntax where we can bind to <strong>any</strong> event like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>date-picker</span> <span class=\"token attr-name\">(dateChanged)</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>statement()<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>date-picker</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>The parentheses simply tell Angular that the expression inside the symbols is an event name that it needs to add an event listener for. <code class=\"language-text\">statement()</code> is simply the statement expression that gets executed whenever such an event is fired on that element. Having such a generic binding, all directives that intercepted for us in AngularJS will go away in Angular. This framework is getting simpler and simpler.</p>\n<p><strong>Event Bubbling</strong></p>\n<p>When binding to events in Angular, events are caught on the same element as well as from events that bubble up from child elements. E.g. if we have a DOM structure like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">(click)</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>statement()<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>This will execute the given statement, if the first <code class=\"language-text\">div</code> or any of it’s child elements are clicked.</p>\n<p><strong>Canonical syntax</strong></p>\n<p>Of course, using parenthesis is also just a shorthand syntax, so we as developers can save some key strokes. We can always use the canonical syntax, which is <code class=\"language-text\">on-*</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ANY</span> <span class=\"token attr-name\">on-{EVENT_NAME}</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{STATEMENT}<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ANY</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2>Two-way Data Binding</h2>\n<p>We talked about property binding and event binding but what about the biggest selling point of AngularJS - two-way data binding?</p>\n<p><strong>Since 2.x, Angular doesn’t come with two-way data binding by default</strong>. This feature has been removed intentionally from the framework, because it comes with various drawbacks. But how is something like <code class=\"language-text\">ng-model</code> in Angular implemented then? <code class=\"language-text\">ng-model</code> in Angular version >= 2.x gives us two-way data binding, even though under the hood, it simply uses a combination of property and event binding.</p>\n<p>Let’s take a look at how that works with the following snippet:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">[value]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>name<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Hello {{name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>We already learned what’s happening here. We’re simply binding the value of a <code class=\"language-text\">name</code> expression to the <code class=\"language-text\">value</code> property of an input element. In addition we want to output the same value in our view and update it when someone changes the value by typing into the input. This, however, doesn’t work because we’re just writing to the elements property. There’s nothing that tells the expression to update when the value changes through typing.</p>\n<p>This can be easily fixed by adding an event binding accordingly:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">[value]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>name<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">(input)</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>name = $event.target.value<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Hello {{name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>We listen to the <code class=\"language-text\">input</code> event and whenever it is fired, we update the value of our <code class=\"language-text\">name</code> expression by pulling the new value out of the event object.</p>\n<p>Since this is quite a lot of typing to implement such a common scenario, Angular comes with an <code class=\"language-text\">ngModel</code> directive that saves some key strokes for us, by unifying the property and event binding, and also the extraction of the target’s value. Here’s the exact same code using <code class=\"language-text\">ngModel</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">[ngModel]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>name<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">(ngModelChange)</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>name = $event<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Hello {{name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>It gets even better! We can shorten that syntax even further by merging both bindings like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">[(ngModel)]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>name<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>Hello {{name}}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Two-way data binding is back in town! We can easily build our own directives that support that syntax, but that we’re going to explore in another article.</p>\n<p>This was the first part of “Angular Template Syntax Demystified”. We’re going to cover local variables and template directives in a second part, which will be published very soon.</p>","frontmatter":{"author":"pascal_precht","title":"Angular Template Syntax Demystified - Part 1","imageUrl":null,"date":"11 August 2015","summary":"Angular 2 introduces it's own kind of template syntax in order to implement different binding strategies. Learn why it's there and how it works.","categories":["angular"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/angular/2015/08/11/angular-2-template-syntax-demystified-part-1.html","previous":{"fields":{"slug":"/rust/2015/07/29/a-web-app-with-nickel-from-first-line-to-heroku-deployment.html"},"frontmatter":{"date":"2015/07/29","title":"A web app with Nickel: From first line to Heroku deployment","categories":["rust"]}},"next":{"fields":{"slug":"/angular/2015/08/20/host-and-visibility-in-angular-2-dependency-injection.html"},"frontmatter":{"date":"2015/08/20","title":"Host and Visibility in Angular's Dependency Injection","categories":["angular"]}}}}}