{"componentChunkName":"component---src-templates-blog-post-js","path":"/angular/2016/05/16/exploring-rx-operators-map.html","webpackCompilationHash":"0c5d630095500f933ccd","result":{"data":{"site":{"siteMetadata":{"title":"Articles by thoughtram","authors":[{"id":"pascal_precht","name":"Pascal Precht","twitter":"PascalPrecht","img":"https://avatars2.githubusercontent.com/u/445106?s=460&v=4"},{"id":"christoph_burgdorf","name":"Christoph Burgdorf","twitter":"cburgdorf","img":"https://avatars0.githubusercontent.com/u/521109?s=460&v=4"},{"id":"dominic_elm","name":"Dominic Elm","twitter":"d3lm","img":"https://avatars0.githubusercontent.com/u/12571019?s=400&v=4"},{"id":"thomas_burleson","name":"Thomas Burleson","twitter":"thomasburleson","img":"https://avatars3.githubusercontent.com/u/210413?s=400&v=4"},{"id":"elvira_eulitz","name":"Elvira Eulitz","twitter":"ElviraEulitz","img":"https://avatars3.githubusercontent.com/u/29247040?s=400&v=4"},{"id":"maxim_koretskyi","name":"Maxim Koretskyi","twitter":"maxim_koretskyi","img":"https://avatars3.githubusercontent.com/u/6124091?s=400&v=4"}]}},"markdownRemark":{"id":"83d32336-9bf5-5485-bc10-925ecdd97626","excerpt":"In Taking advantage of Observables Part one and two we already highlighted the importance of Observables in Angular. We believe that mastering Observables can…","html":"<p>In <a href=\"/angular/2016/01/06/taking-advantage-of-observables-in-angular2.html\">Taking advantage of Observables Part one</a> and <a href=\"/angular/2016/01/07/taking-advantage-of-observables-in-angular2-pt2.html\">two</a> we already highlighted the importance of Observables in Angular. We believe that mastering Observables can make a key difference in how we write our applications. Well, if you agree, here are some good news! This article is the first of a series of posts where we’ll explore operators of the Reactive Extensions for JavaScript (RxJS) and their practical applications.</p>\n<p>The first operator we want to explore is the most commonly used one: <code class=\"language-text\">map</code>.</p>\n<h2>Understanding the <code class=\"language-text\">map</code> operator</h2>\n<p>We’ve probably all used <code class=\"language-text\">map</code> before when we were working with arrays. The idea is that each\nitem in the collection will potentially be projected into a different value.</p>\n<p>Here is a very simple example where an array of numbers is transformed so that each number is multiplied by 10.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> values <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> transformed <span class=\"token operator\">=</span> values<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> value <span class=\"token operator\">*</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//prints [10, 20, 30]</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>transformed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>By now we may be wondering what that has to do with Observables and the <code class=\"language-text\">map</code> operator that is part of RxJS.</p>\n<p>Observables are very much like arrays in a way. Well, they are actually more like Iterators but let’s not get lost in the details. The key point to understand is that both represent a sequence of values. The key difference is that with Arrays/Iterators you <em>pull</em> values out as you want to work with them whereas with Observables you get values <strong>pushed</strong> to you as they arrive.</p>\n<p>It’s this similarity that allows us to take advantage of pretty much all operators that we know from the pull-based world and apply them to the push-based world.</p>\n<h2><code class=\"language-text\">map</code> and Observables</h2>\n<p>Let’s start with a little demo. All we need is a simple <code class=\"language-text\">&lt;input&gt;</code> element to enter some text.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>demo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>Then we create an Observable that emits every time that the value of our input changes.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> demoInput <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#demo'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> obs <span class=\"token operator\">=</span> Rx<span class=\"token punctuation\">.</span>Observable<span class=\"token punctuation\">.</span><span class=\"token function\">fromEvent</span><span class=\"token punctuation\">(</span>demoInput<span class=\"token punctuation\">,</span> <span class=\"token string\">'input'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Activate the observable and log all 'pushed' events</span>\nobs<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The payload of the Observable is the plain old Event object that is provided by the <code class=\"language-text\">input</code> event of the browser. But that may not match what we are most interested in. What if we are more interested in the current value of the input? The <code class=\"language-text\">map</code> operator lets us project the payload of the Observable into something else. All it takes to project the payload is this tiny change.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> obs <span class=\"token operator\">=</span> Rx<span class=\"token punctuation\">.</span>Observable<span class=\"token punctuation\">.</span><span class=\"token function\">fromEvent</span><span class=\"token punctuation\">(</span>demoInput<span class=\"token punctuation\">,</span> <span class=\"token string\">'input'</span><span class=\"token punctuation\">)</span>\n                       <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>We can go on and chain <code class=\"language-text\">map</code> calls to project the data even further. For instance, it may be more convenient to work with a data structure that carries the value among with the length of the string.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">let</span> obs <span class=\"token operator\">=</span> Rx<span class=\"token punctuation\">.</span>Observable<span class=\"token punctuation\">.</span><span class=\"token function\">fromEvent</span><span class=\"token punctuation\">(</span>demoInput<span class=\"token punctuation\">,</span> <span class=\"token string\">'input'</span><span class=\"token punctuation\">)</span>\n                       <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> e<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span>\n                       <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span> <span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> value <span class=\"token operator\">></span> <span class=\"token number\">100</span> <span class=\"token punctuation\">)</span>\n                       <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                         <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n                           value<span class=\"token punctuation\">:</span> v<span class=\"token punctuation\">,</span>\n                           length<span class=\"token punctuation\">:</span> v<span class=\"token punctuation\">.</span>length\n                         <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n                       <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Of course, we could have done the same in the first <code class=\"language-text\">map</code> call. But it’s sometimes more readable to break things into multiple steps. Notice that often we also use different operators in between of two <code class=\"language-text\">map</code> calls (e.g to filter something out).</p>\n<p>At this point, you may think that Observables are really just a minor enhancement on the Observer or Promise patterns… better suited to handle a sequence of events rather than a single callback. And the <code class=\"language-text\">.map()</code> function certainly does not - at first glance - seem to offer any added-value. The power of Observables is revealed when you start using Rx operators to transform, combine, manipulate, and work with sequences of items emitted by Observables.</p>\n<p>These operators allow you to compose asynchronous sequences together in a declarative manner with all the efficiency benefits of callbacks but without the drawbacks of nesting callback handlers that are typically associated with asynchronous systems.</p>\n<p>We will see that in future articles. Watch out for the next article of this series where we’ll build upon this lesson with <code class=\"language-text\">map()</code> and take a look at the related <code class=\"language-text\">flatMap</code> operator.</p>","frontmatter":{"author":"christoph_burgdorf","title":"Exploring Rx Operators: map","imageUrl":{"childImageSharp":{"sizes":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAUBAgQG/8QAFwEAAwEAAAAAAAAAAAAAAAAAAAECA//aAAwDAQACEAMQAAABqx5x2iTeXn//xAAbEAACAgMBAAAAAAAAAAAAAAABAgAEAxAUEf/aAAgBAQABBQLqMWyrDoLaqr7jIE//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARL/2gAIAQMBAT8BrL//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8BjX//xAAcEAACAgIDAAAAAAAAAAAAAAAAARExAhAhYYH/2gAIAQEABj8Csp98EpY+6mXZR//EABoQAAIDAQEAAAAAAAAAAAAAAAERACExEGH/2gAIAQEAAT8hSSQTjzgLYcFNB7R5SAYUdtp//9oADAMBAAIAAwAAABCb3//EABYRAQEBAAAAAAAAAAAAAAAAAAEAMf/aAAgBAwEBPxBLLXb/xAAWEQEBAQAAAAAAAAAAAAAAAAABAHH/2gAIAQIBAT8QAWb/xAAdEAEBAAEEAwAAAAAAAAAAAAABEQAhMUFRYXGh/9oACAEBAAE/EHZgY8epguR0RI6YM1GT4zgVPOHFpS6KcnWM06m65//Z","aspectRatio":1.5,"src":"/static/2aeb9e43c7d1ce61b7c96588eb4d8d78/30037/rx-map.jpg","srcSet":"/static/2aeb9e43c7d1ce61b7c96588eb4d8d78/10bdc/rx-map.jpg 158w,\n/static/2aeb9e43c7d1ce61b7c96588eb4d8d78/f4ab0/rx-map.jpg 315w,\n/static/2aeb9e43c7d1ce61b7c96588eb4d8d78/30037/rx-map.jpg 630w,\n/static/2aeb9e43c7d1ce61b7c96588eb4d8d78/9810d/rx-map.jpg 945w,\n/static/2aeb9e43c7d1ce61b7c96588eb4d8d78/81ef8/rx-map.jpg 1200w","sizes":"(max-width: 630px) 100vw, 630px"}}},"date":"16 May 2016","summary":"This is the first article that is part of a new series where we take a look at different operators of the Reactive Extensions for JavaScript.","categories":["angular"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/angular/2016/05/16/exploring-rx-operators-map.html","previous":{"fields":{"slug":"/angular/2016/05/13/angular-2-providers-using-map-literals.html"},"frontmatter":{"date":"2016/05/13","title":"Angular Providers using Map Literals","categories":["angular"]}},"next":{"fields":{"slug":"/announcements/2016/05/19/thomas-joins-thoughtram.html"},"frontmatter":{"date":"2016/05/19","title":"Thomas joins thoughtram","categories":["announcements"]}}}}}