{"componentChunkName":"component---src-templates-blog-post-js","path":"/angular/2016/09/16/angular-2-animation-important-concepts.html","webpackCompilationHash":"0c5d630095500f933ccd","result":{"data":{"site":{"siteMetadata":{"title":"Articles by thoughtram","authors":[{"id":"pascal_precht","name":"Pascal Precht","twitter":"PascalPrecht","img":"https://avatars2.githubusercontent.com/u/445106?s=460&v=4"},{"id":"christoph_burgdorf","name":"Christoph Burgdorf","twitter":"cburgdorf","img":"https://avatars0.githubusercontent.com/u/521109?s=460&v=4"},{"id":"dominic_elm","name":"Dominic Elm","twitter":"d3lm","img":"https://avatars0.githubusercontent.com/u/12571019?s=400&v=4"},{"id":"thomas_burleson","name":"Thomas Burleson","twitter":"thomasburleson","img":"https://avatars3.githubusercontent.com/u/210413?s=400&v=4"},{"id":"elvira_eulitz","name":"Elvira Eulitz","twitter":"ElviraEulitz","img":"https://avatars3.githubusercontent.com/u/29247040?s=400&v=4"},{"id":"maxim_koretskyi","name":"Maxim Koretskyi","twitter":"maxim_koretskyi","img":"https://avatars3.githubusercontent.com/u/6124091?s=400&v=4"}]}},"markdownRemark":{"id":"8b09df98-24bb-5da2-ae81-9b4d51962e02","excerpt":"Animations features often are scary goals for developers. And Angular’s doctrine ”… controllers should not directly modify DOM elements!” made Animation…","html":"<p>Animations features often are scary goals for developers. And Angular’s doctrine</p>\n<blockquote>\n<p>”… controllers should not directly modify DOM elements!”</p>\n</blockquote>\n<p>made Animation features intimidating as hell. But <strong>Angular animations are not scary!</strong> Templates are closely associated/integrated with <code class=\"language-text\">@Component</code>. We will notice that animations following a similar pattern.</p>\n<p>Let’s build a component that hides and shows its contents, uses fade animation effects, and allows external components to easily trigger those fade effects.</p>\n<h3>Our Scenario</h3>\n<p>Here is a simple Angular component with hide and show features. This sample, however, does not have animations (yet):</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selector<span class=\"token punctuation\">:</span> <span class=\"token string\">'my-fader'</span><span class=\"token punctuation\">,</span>\n    template<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    &lt;div *ngIf=\"visibility == 'shown'\" >\n      &lt;ng-content>&lt;/ng-content>\n      Can you see me? \n    &lt;/div>\n  </span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyComponent</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnChanges</span> <span class=\"token punctuation\">{</span>\n  visibility <span class=\"token operator\">=</span> <span class=\"token string\">'shown'</span><span class=\"token punctuation\">;</span>\n\n  @<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> isVisible <span class=\"token punctuation\">:</span> boolean <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">ngOnChanges</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>visibility <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isVisible <span class=\"token operator\">?</span> <span class=\"token string\">'shown'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'hidden'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This component simply publishes an <code class=\"language-text\">@Input() isVisible</code> property; which allows other external components to show/hide the text content… without any animations.</p>\n<h3>Enable Animations Module</h3>\n<p>Since Angular 4.x, there’s a new module <code class=\"language-text\">BrowserAnimationsModule</code> that introduces all animation capabilities. That’s why we first have add that to our application module’s <code class=\"language-text\">imports</code> like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> BrowserAnimationsModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/platform-browser/animations'</span><span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">NgModule</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  imports<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token operator\">...</span>\n    BrowserAnimationsModule\n  <span class=\"token punctuation\">]</span>\n  <span class=\"token operator\">...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppModule</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>Once that is done, we can use any kind of animation API in our application. If we want to use animation function like <code class=\"language-text\">trigger()</code> or <code class=\"language-text\">state()</code>, we need to import them also from <code class=\"language-text\">&#39;@angular/platform-browser/animations&#39;</code> instead of <code class=\"language-text\">&#39;@angular/core&#39;</code>.</p>\n<h3>Configure Component Animations</h3>\n<p>We want the <code class=\"language-text\">my-fader</code> component to <strong>fade-in</strong> or <strong>fade-out</strong> its text content. And we want to <em>animate</em> those fades effects.</p>\n<p>To start animating, let’s first add animation metadata to our component.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span>\n  template <span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  animations<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token operator\">...</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyComponent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Above we show that the <code class=\"language-text\">animations</code> metadata property is defined in the <code class=\"language-text\">@Component</code> decorator. Just like <code class=\"language-text\">template</code> metadata property!</p>\n<p>Since our component has a <code class=\"language-text\">visibility</code> property whose state can change between <code class=\"language-text\">shown</code> and <code class=\"language-text\">hidden</code>, let’s configure animations to trigger and animate during each value change.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">animations<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token function\">trigger</span><span class=\"token punctuation\">(</span><span class=\"token string\">'visibilityChanged'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token function\">state</span><span class=\"token punctuation\">(</span><span class=\"token string\">'shown'</span> <span class=\"token punctuation\">,</span> <span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> opacity<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \n  <span class=\"token function\">state</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hidden'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> opacity<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>Before we add more metadata, let’s talk about the syntax above. What does it mean… and why is this syntax used?</p>\n<p>The techno-speak above is saying that when the <code class=\"language-text\">visibilityChanged</code> property changes and the value <code class=\"language-text\">== shown</code>, then the target element opacity changes to 1. And when the value changes to <code class=\"language-text\">== hidden</code>, the target element opacity should change to 0.</p>\n<blockquote>\n<p>Note: The <code class=\"language-text\">[@visibilityChanged]</code> binding is on <code class=\"language-text\">&lt;div&gt;</code> child content element in the <code class=\"language-text\">&lt;my-fader&gt;</code> component. It is NOT on the <code class=\"language-text\">&lt;my-fader&gt;</code> element itself. In other words, the animation target in our example is actually the <code class=\"language-text\">&lt;div&gt;</code> element; not the component <strong>host</strong> element.</p>\n</blockquote>\n<p>Now, you might also wonder where <code class=\"language-text\">visibilityChanged</code> comes from? Because our component property is just called <code class=\"language-text\">visibility</code>. Hold your wild horses Mr. StageCoach, we’ll clarify that soon!” Let’s first talk about animation durations.</p>\n<p>We want to animate these changes over a time duration instead of instantly hiding/showing the content. We need to configure a <em>transition</em> to specify animation durations. With Angular this is also suprisingly easy:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">animations<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token function\">trigger</span><span class=\"token punctuation\">(</span>’visibilityChanged'<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token function\">state</span><span class=\"token punctuation\">(</span><span class=\"token string\">'shown'</span> <span class=\"token punctuation\">,</span> <span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> opacity<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> \n    <span class=\"token function\">state</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hidden'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> opacity<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">transition</span><span class=\"token punctuation\">(</span><span class=\"token string\">'* => *'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.5s'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>With the above <code class=\"language-text\">transition</code>, we added information to the animation configuration so each trigger value change will have a 500 msec transition. </p>\n<p>So a <strong>fade-in</strong> (opacity 0 -> 1, with a duration of 500 msec) will occur when the value changes from <code class=\"language-text\">hidden</code> to <code class=\"language-text\">shown</code>. And likewise the <strong>fade-out</strong> (opacity 1 -> 0, with a duration of 500 msec) will occur when the value changes from <code class=\"language-text\">shown</code> to <code class=\"language-text\">hidden</code>. By the way, you could also have used <code class=\"language-text\">animate(&#39;500ms&#39;)</code> to indicate the millsecond duration explicitly.</p>\n<p>And what does the <code class=\"language-text\">transition(&#39;* =&gt; *&#39;, ...)</code> mean? Think of <code class=\"language-text\">* =&gt; *</code> as a transition from one state to another state; where <code class=\"language-text\">*</code> is a wildcard to mean <strong>any</strong> state value. If we wanted the <em>fade-out</em> to be slower than the <em>fade-in</em>, here is how we would configure the animation metadata:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">animations<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token function\">trigger</span><span class=\"token punctuation\">(</span>’visibilityChanged'<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token function\">state</span><span class=\"token punctuation\">(</span><span class=\"token string\">'shown'</span> <span class=\"token punctuation\">,</span> <span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> opacity<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">state</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hidden'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> opacity<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">transition</span><span class=\"token punctuation\">(</span><span class=\"token string\">'shown => hidden'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'600ms'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">transition</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hidden => shown'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'300ms'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>See how easy this is? This notation is so easy to understand.</p>\n<h3>The Essential Concept</h3>\n<p>The essential take-away Animation concept is that <strong>Angular Animations</strong> are triggered on component <u>state changes</u>. And developers should consider <u>state changes</u> to be equivalent to <u>value changes in a property</u> of the component instance.</p>\n<p><img src=\"https://media.giphy.com/media/NUC0kwRfsL0uk/giphy.gif\" alt=\"super-cool\"></p>\n<h3>Linking Animation to the Component</h3>\n<br/>\nWhile we configured the Animation metadata,  I am sure you are wondering:\n<ul>\n<li>How is the animation property <code class=\"language-text\">visibilityChanged</code> actually connected to the component?</li>\n<li>How are the animations linked to the component’s properties?</li>\n</ul>\n<p>Since data-binding features are already supported between the <strong>component</strong> and its <strong>template</strong>,  Angular uses a <u>special</u> template animation syntax to support triggering the animation after data-binding changes. So in the component template, we can do this:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">[@visibilityChanged]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>visibility<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  Can you see me? I should fade in or out...\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Above the <code class=\"language-text\">@visibilityChanged</code> is the special template animation property and it uses databinding  <code class=\"language-text\">[@visibilityChanged]=“visibility”</code> to bind the component’s visibility property to the animation  trigger property <code class=\"language-text\">visibilityChanged</code>.</p>\n<p>Here is the entire component definition updated with Animation features:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> OnChanges<span class=\"token punctuation\">,</span> Input <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> trigger<span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">,</span> animate<span class=\"token punctuation\">,</span> transition<span class=\"token punctuation\">,</span> style <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/platform-browser/animations'</span><span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selector <span class=\"token punctuation\">:</span> <span class=\"token string\">'my-fader'</span><span class=\"token punctuation\">,</span>\n  animations<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token function\">trigger</span><span class=\"token punctuation\">(</span><span class=\"token string\">'visibilityChanged'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token function\">state</span><span class=\"token punctuation\">(</span><span class=\"token string\">'shown'</span> <span class=\"token punctuation\">,</span> <span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> opacity<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">state</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hidden'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> opacity<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">transition</span><span class=\"token punctuation\">(</span><span class=\"token string\">'* => *'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.5s'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  &lt;div [@visibilityChanged]=\"visibility\" >\n    &lt;ng-content>&lt;/ng-content>  \n    &lt;p>Can you see me? I should fade in or out...&lt;/p>\n  &lt;/div>\n  </span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FaderComponent</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnChanges</span> <span class=\"token punctuation\">{</span>\n  @<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> isVisible <span class=\"token punctuation\">:</span> boolean <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n  visibility <span class=\"token operator\">=</span> <span class=\"token string\">'shown'</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">ngOnChanges</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>visibility <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isVisible <span class=\"token operator\">?</span> <span class=\"token string\">'shown'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'hidden'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Reducing Complexity</h3>\n<p>What if - instead of the using the extra <code class=\"language-text\">visibility</code> property - you just wanted to use the <code class=\"language-text\">isVisible</code> property directly? This would obviate <code class=\"language-text\">ngOnChanges()</code> and reduce the code complexity to:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  animations<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token function\">trigger</span><span class=\"token punctuation\">(</span><span class=\"token string\">'visibilityChanged'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token function\">state</span><span class=\"token punctuation\">(</span><span class=\"token string\">'shown'</span> <span class=\"token punctuation\">,</span> <span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> opacity<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function\">state</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hidden'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> opacity<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function\">transition</span><span class=\"token punctuation\">(</span><span class=\"token string\">'* => *'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.5s'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  &lt;div [@visibilityChanged]=\"isVisible\" >\n       ...\n  &lt;/div>\n  </span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FaderComponent</span> <span class=\"token punctuation\">{</span>\n  @<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> isVisible <span class=\"token punctuation\">:</span> boolean <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>I love the tersity of this code. But this will not work without another <strong>important</strong> change to the animation metadata!</p>\n<blockquote>\n<p>Remember that the <code class=\"language-text\">@visibilityChanged</code> animation trigger property has defined states for the values: <code class=\"language-text\">shown</code> or <code class=\"language-text\">hidden</code>.</p>\n</blockquote>\n<p>If you use the <code class=\"language-text\">myFader::isVisible</code> boolean property, then your animation state values must be changed to <code class=\"language-text\">true</code> and <code class=\"language-text\">false</code> since those are the possible values of the <code class=\"language-text\">isVisible</code> property.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> OnChanges<span class=\"token punctuation\">,</span> Input <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> trigger<span class=\"token punctuation\">,</span> state<span class=\"token punctuation\">,</span> animate<span class=\"token punctuation\">,</span> transition<span class=\"token punctuation\">,</span> style <span class=\"token punctuation\">}</span> form <span class=\"token string\">'@angular/platform-browser/animations'</span><span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selector <span class=\"token punctuation\">:</span> <span class=\"token string\">'my-fader'</span><span class=\"token punctuation\">,</span>\n  animations<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token function\">trigger</span><span class=\"token punctuation\">(</span><span class=\"token string\">'visibilityChanged'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token function\">state</span><span class=\"token punctuation\">(</span><span class=\"token string\">'true'</span> <span class=\"token punctuation\">,</span> <span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> opacity<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> transform<span class=\"token punctuation\">:</span> <span class=\"token string\">'scale(1.0)'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function\">state</span><span class=\"token punctuation\">(</span><span class=\"token string\">'false'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">style</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> opacity<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> transform<span class=\"token punctuation\">:</span> <span class=\"token string\">'scale(0.0)'</span>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function\">transition</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1 => 0'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'300ms'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token function\">transition</span><span class=\"token punctuation\">(</span><span class=\"token string\">'0 => 1'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">animate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'900ms'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  &lt;div [@visibilityChanged]=\"isVisible\" >\n    &lt;ng-content>&lt;/ng-content>\n    &lt;p>Can you see me? I should fade in or out...&lt;/p>\n  &lt;/div>\n  </span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">FaderComponent</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnChanges</span> <span class=\"token punctuation\">{</span>\n  @<span class=\"token function\">Input</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> isVisible <span class=\"token punctuation\">:</span> boolean <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>Extra Bonus: The demo has some extra features. The <em>host</em> <code class=\"language-text\">my-fader</code> element now has a purple background; when you hide the <code class=\"language-text\">my-fader</code> content children you will see the host background. This change was added so you can visually see the differences between the <em>host</em> and the <em>target</em> animation elements.</p>\n</blockquote>\n<h3>Our Animation Workflow</h3>\n<p>Above we have an improved the component definition; enhanced with animation features. Here is a workflow of the [animation] process:</p>\n<ol>\n<li>the input value for <code class=\"language-text\">isVisible</code> changes,</li>\n<li>the template databinding updates the <code class=\"language-text\">@visibilityChanged</code> property,</li>\n<li>the animation trigger is invoked,</li>\n<li>the <code class=\"language-text\">@visibilityChanged</code> value is used to identify the <strong>state</strong> animations and transitions, and</li>\n<li>the target element opacity (and other properties) change-animates for xxx msecs</li>\n</ol>\n<h3>Animation Philosophy</h3>\n<p>One of the design goals for Angular Animations is to make it <strong>easy</strong> for developers to configure and use animations. The API and syntax is designed to be:</p>\n<ul>\n<li>intuitive</li>\n<li>declarative and</li>\n<li>immediately associated with the component using metadata</li>\n</ul>\n<p>The best part of Angular Animation design is that the <strong>component->template->animation</strong> binding solution <u>decouples</u> the animation from the component internals and uses the template as the binding bridge.</p>\n<p>The developer decides which component properties should bind to which animation triggers, then simply uses the possible component property values to set the animation <em>state</em> values accordingly.</p>\n<blockquote>\n<p>In most cases, you will never need to write JavaScript animation logic.</p>\n</blockquote>\n<p>All the mechanics of preparing and managing the animations are hidden from the developer. This ‘separation of concerns’ provides HUGE benefits to allow developers to easily use Angular Animations with custom architectures &#x26; custom implementations.</p>\n<h3>Animations with Components Hierarchies</h3>\n<p>Components should never be concerned with the details regarding animation of child components. Parent components can monitor and alter the public <strong>state</strong> of child components, but should never attempt to modify the internals of those components.</p>\n<p>In our examples (above), parent components can simply change the state of the child <code class=\"language-text\">my-fader</code> instances and then magically the contents of the <code class=\"language-text\">my-fader</code> instance will fadeIn or fadeOut.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selector <span class=\"token punctuation\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\n  &lt;my-fader [isVisible]=\"showFader\">\n    Am I visible ?\n  &lt;/my-fader>\n\n  &lt;button (click)=\"showFader = !showFader\"> Toggle &lt;/button>\n  </span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyAppComponent</span> <span class=\"token punctuation\">{</span>  \n  showFader <span class=\"token punctuation\">:</span> boolean <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Summary</h3>\n<p>The Angular Animation engine and compiler does all the hard work preparing, managing, and running the animations. Developers use the <code class=\"language-text\">@Component</code> metadata to declaratively define the component styles, templates, and [now] animations. And it is the component <strong>template</strong> that serves as the <em>bridge</em> to link the component instance state to the animation trigger property.</p>\n<h3>Thanks</h3>\n<p>Kudos to <a href=\"https://twitter.com/yearofmoo\">Matias Niemelä</a> for the amazing Animation engine in Angular!</p>\n<p><img src=\"https://cloud.githubusercontent.com/assets/210413/18608523/49b8707c-7cb1-11e6-8d2c-ab43db07ca78.jpg\" alt=\"matiasvikinghair\"></p>\n<p>These core animation features [discussed above] are available in the Angular 2.0.0 release. And never fear, Matias and his team are working hard on more amazing, intuitive Animation features. So stay tuned for even MORE cool features and blogs coming soon!</p>","frontmatter":{"author":"thomas_burleson","title":"Angular Animations - Foundation Concepts","imageUrl":{"childImageSharp":{"sizes":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAFRaphE0aF//8QAGxAAAgIDAQAAAAAAAAAAAAAAAQIAAxAREhT/2gAIAQEAAQUCbQhbB8rRzQB1VP/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AUf/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8Bta//xAAdEAACAgEFAAAAAAAAAAAAAAAAAQIhEBEiMXGB/9oACAEBAAY/AjjFSa8Nusn0Wj//xAAaEAADAAMBAAAAAAAAAAAAAAAAAREhQWFx/9oACAEBAAE/IXfjPhbQbYzbzKM2dEC2tP/aAAwDAQACAAMAAAAQPM//xAAWEQEBAQAAAAAAAAAAAAAAAAAAAXH/2gAIAQMBAT8Qkaf/xAAWEQEBAQAAAAAAAAAAAAAAAAAAEXH/2gAIAQIBAT8Qgy//xAAaEAADAAMBAAAAAAAAAAAAAAAAAREhQZEx/9oACAEBAAE/EHVZVrx0owgq0PWP11CWmjcSIeEj/9k=","aspectRatio":1.3373819163292848,"src":"/static/411e5204867acfce1991319cbe785ac3/30037/angular-2-component-animations.jpg","srcSet":"/static/411e5204867acfce1991319cbe785ac3/10bdc/angular-2-component-animations.jpg 158w,\n/static/411e5204867acfce1991319cbe785ac3/f4ab0/angular-2-component-animations.jpg 315w,\n/static/411e5204867acfce1991319cbe785ac3/30037/angular-2-component-animations.jpg 630w,\n/static/411e5204867acfce1991319cbe785ac3/9810d/angular-2-component-animations.jpg 945w,\n/static/411e5204867acfce1991319cbe785ac3/5ff7e/angular-2-component-animations.jpg 991w","sizes":"(max-width: 630px) 100vw, 630px"}}},"date":"16 September 2016","summary":"Animation in Angular is now easy and more intuitive... Learn foundational animation concepts and start animating your Angular components!","categories":["angular"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/angular/2016/09/16/angular-2-animation-important-concepts.html","previous":{"fields":{"slug":"/angular/2016/09/15/angular-2-final-is-out.html"},"frontmatter":{"date":"2016/09/15","title":"Angular 2 is out - Get started here","categories":["angular"]}},"next":{"fields":{"slug":"/machine-learning/2016/09/23/beginning-ml-with-keras-and-tensorflow.html"},"frontmatter":{"date":"2016/09/23","title":"Beginning Machine Learning with Keras and TensorFlow","categories":["machine-learning"]}}}}}